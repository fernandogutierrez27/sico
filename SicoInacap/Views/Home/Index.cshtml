
@model IEnumerable<SicoInacap.Models.Recinto>

@{

    int recint = 0;
    foreach (var item in Model)
    {
        recint++;
    }
}


@{

    ViewBag.Title = "Dashboard";
}


<div class="row">

    <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
            <div class="card-header card-header-warning card-header-icon">
                <div class="card-icon">
                    <i class="material-icons">account_box</i>
                </div>
                <p class="card-category">Usuarios</p>
                <h3 class="card-title">
                    49/50
                    <small>GB</small>
                </h3>
            </div>
            <div class="card-footer">
                <div class="stats">
                    <i class="material-icons">update</i> Recién actualizado
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
            <div class="card-header card-header-success card-header-icon">
                <div class="card-icon">
                    <i class="material-icons">event</i>
                </div>
                <p class="card-category">Agendamiento</p>
                <h3 class="card-title">$34,245</h3>
            </div>
            <div class="card-footer">
                <div class="stats">
                    <i class="material-icons">update</i> Recién actualizado
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
            <div class="card-header card-header-danger card-header-icon">
                <div class="card-icon">
                    <i class="material-icons">star</i>
                </div>
                <p class="card-category">Eventos</p>
                <h3 class="card-title">75</h3>
            </div>
            <div class="card-footer">
                <div class="stats">
                    <i class="material-icons">update</i> Recién actualizado
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
            <div class="card-header card-header-info card-header-icon">
                <div class="card-icon">
                    <i class="material-icons">location_on</i>
                </div>
                <p class="card-category">Recintos</p>
                <h3 class="card-title">@recint</h3>
            </div>
            <div class="card-footer">
                <div class="stats">
                    <i class="material-icons">update</i> Recién actualizado
                </div>
            </div>
        </div>
    </div>

</div>







<div class="card card-nav-tabs card-plain">
    <div class="card-header card-header-primary">
        <!-- colors: "header-primary", "header-info", "header-success", "header-warning", "header-danger" -->
        <div class="nav-tabs-navigation">
            <div class="nav-tabs-wrapper">
                <ul class="nav nav-tabs" data-tabs="tabs">
                    <li class="nav-item">
                        <a class="nav-link active" href="#usuarios" data-toggle="tab"><i class="material-icons">account_box</i>Usuarios</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#agendamiento" data-toggle="tab"><i class="material-icons">event</i>Agenda</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#eventos" data-toggle="tab"><i class="material-icons">star</i>Eventos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#recintos" data-toggle="tab"><i class="material-icons">location_on</i>Recintos</a>
                    </li>
                </ul>
            </div>
        </div>
    </div><div class="card-body ">
              <div class="tab-content text-center">
                  <div class="tab-pane active" id="usuarios">
                      <div class="col-lg-12 col-md-12">
                          <div class="card">
                              <div class="card-header card-header-warning">
                                  <h4 class="card-title">Employees Stats</h4>
                                  <p class="card-category">New employees on 15th September, 2016</p>
                              </div>
                              <div class="card-body table-responsive">
                                  <table class="table table-hover">
                                      <thead class="text-warning">
                                          <th>ID</th>
                                          <th>Name</th>
                                          <th>Salary</th>
                                          <th>Country</th>
                                      </thead>
                                      <tbody>
                                          <tr>
                                              <td>1</td>
                                              <td>Dakota Rice</td>
                                              <td>$36,738</td>
                                              <td>Niger</td>
                                          </tr>
                                          <tr>
                                              <td>2</td>
                                              <td>Minerva Hooper</td>
                                              <td>$23,789</td>
                                              <td>Curaçao</td>
                                          </tr>
                                          <tr>
                                              <td>3</td>
                                              <td>Sage Rodriguez</td>
                                              <td>$56,142</td>
                                              <td>Netherlands</td>
                                          </tr>
                                          <tr>
                                              <td>4</td>
                                              <td>Philip Chaney</td>
                                              <td>$38,735</td>
                                              <td>Korea, South</td>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="tab-pane" id="agendamiento">
                      <div class="col-lg-12 col-md-12">
                          <div class="card">
                              <div class="card-header card-header-success">
                                  <h4 class="card-title">Employees Stats</h4>
                                  <p class="card-category">New employees on 15th September, 2016</p>
                              </div>
                              <div class="card-body table-responsive">
                                  <table class="table table-hover">
                                      <thead class="text-warning">
                                      <th>ID</th>
                                      <th>Name</th>
                                      <th>Salary</th>
                                      <th>Country</th>
                                      </thead>
                                      <tbody>
                                          <tr>
                                              <td>1</td>
                                              <td>Dakota Rice</td>
                                              <td>$36,738</td>
                                              <td>Niger</td>
                                          </tr>
                                          <tr>
                                              <td>2</td>
                                              <td>Minerva Hooper</td>
                                              <td>$23,789</td>
                                              <td>Curaçao</td>
                                          </tr>
                                          <tr>
                                              <td>3</td>
                                              <td>Sage Rodriguez</td>
                                              <td>$56,142</td>
                                              <td>Netherlands</td>
                                          </tr>
                                          <tr>
                                              <td>4</td>
                                              <td>Philip Chaney</td>
                                              <td>$38,735</td>
                                              <td>Korea, South</td>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="tab-pane" id="eventos">
                      <div class="col-lg-12 col-md-12">
                          <div class="card">
                              <div class="card-header card-header-danger">
                                  <h4 class="card-title">Employees Stats</h4>
                                  <p class="card-category">New employees on 15th September, 2016</p>
                              </div>
                              <div class="card-body table-responsive">
                                  <table class="table table-hover">
                                      <thead class="text-warning">
                                      <th>ID</th>
                                      <th>Name</th>
                                      <th>Salary</th>
                                      <th>Country</th>
                                      </thead>
                                      <tbody>
                                          <tr>
                                              <td>1</td>
                                              <td>Dakota Rice</td>
                                              <td>$36,738</td>
                                              <td>Niger</td>
                                          </tr>
                                          <tr>
                                              <td>2</td>
                                              <td>Minerva Hooper</td>
                                              <td>$23,789</td>
                                              <td>Curaçao</td>
                                          </tr>
                                          <tr>
                                              <td>3</td>
                                              <td>Sage Rodriguez</td>
                                              <td>$56,142</td>
                                              <td>Netherlands</td>
                                          </tr>
                                          <tr>
                                              <td>4</td>
                                              <td>Philip Chaney</td>
                                              <td>$38,735</td>
                                              <td>Korea, South</td>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="tab-pane" id="recintos">
                      <div class="col-lg-12 col-md-12">
                          <div class="card">
                              <div class="card-header card-header-info ">
                                  <h4 class="card-title">Recintos Creados</h4>
                                  <p class="card-category">Nuevos Recintos de @DateTime.Now.Year</p>
                              </div>
                              <div class="card-body table-responsive">
                                  <table class="table table-hover" id="mitabla">
                                      <thead class="text-warning">
                                          <tr>
                                              <th>@Html.DisplayNameFor(model => model.Nombre)</th>
                                              <th>@Html.DisplayNameFor(model => model.Latitud)</th>
                                              <th>@Html.DisplayNameFor(model => model.Longitud)</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          @foreach (var item in Model)
    {
                                          <tr>
                                              <td>
                                                  @Html.DisplayFor(modelItem => item.Nombre)
                                              </td>
                                              <td>
                                                  @Html.DisplayFor(modelItem => item.Latitud)
                                              </td>
                                              <td>
                                                  @Html.DisplayFor(modelItem => item.Longitud)
                                              </td>
                                          </tr>
}
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
    </div>
</div>




<div class="card">
    <div class="card-header card-header-rose text-center">
        <h4 class="card-title">Ubicación Fisica de Recintos</h4>
        <p class="card-category">Nuevos Recintos de @DateTime.Now.Year</p>
    </div>
    <div class="card-body table-responsive">
        <div id="map" style="height:400px" class="my-4 shadow p-3 mb-5 bg-white rounded"></div>
    </div>
</div>





<script>
    function inicializacion() {

        //Creo un nuevo mapa situado en Inacap, Antofagasta
        var mapa = new google.maps.Map(document.getElementById("map"), {
            center: new google.maps.LatLng(-23.560014050233416, -70.40047645568848),
            zoom: 17,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        });

        //Inicializar marcador de la ubicación

        var tabla2 = document.getElementById("mitabla");
        var tdsTabla2 = tabla2.getElementsByTagName("td");
        var i = 0;
        var contador = 0;
        var inputNombre;
        var inputLongitud;
        var inputLatitud;
        for (i = 0; i < tdsTabla2.length; i++) {

            contador++
            if (contador == 1) {
                inputNombre = tdsTabla2[i].innerHTML;
            } else if (contador == 2) {
                inputLatitud = tdsTabla2[i].innerHTML;
            } else if (contador == 3) {
                inputLongitud = tdsTabla2[i].innerHTML;
                var coordenadas = new google.maps.LatLng(inputLatitud, inputLongitud);
                var marcador = new google.maps.Marker({ position: coordenadas, map: mapa, animation: google.maps.Animation.DROP, title: inputNombre });
                contador = 0;
            }

        }


    }

</script>